<html>
<head>
  <script src="https://js.stripe.com/v3/"></script>  <script>
    function getParameterByName(name, url = window.location.href) {
      name = name.replace(/[\[\]]/g, '\\$&');
      var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
        results = regex.exec(url);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }    var stripe = Stripe(
      'pk_test_51InhAWCNaS14E2hRKpsfpyKXdFgqsJoBXGWqZKOUxmDOM3IGbiNWqlsEqeYliblN3I1Gl7d9wD2d6AOSORtvY17000UH7Oc5yi'
    );
    var price = getParameterByName('price');
    var clientReferenceId = getParameterByName('clientReferenceId');
    var customerEmail = getParameterByName('customerEmail');
    debugger;    stripe.redirectToCheckout({
      lineItems: [{
        price: price,
        quantity: 1,
      }],
      mode: 'payment',
      successUrl: 'https://artgl.github.io/stripe/success.html',
      cancelUrl: 'https://artgl.github.io/stripe/cancel.html',
      clientReferenceId: clientReferenceId,
      customerEmail: customerEmail,
    }).then(function (result) {
      // If `redirectToCheckout` fails due to a browser or network
      // error, display the localized error message to your customer
      // using `result.error.message`.
    });
  </script>
</head>
<body>
Your payment is being prepared. You will be redirected shortly to payment page.
</body>
</html>
